Tool for producing an RSS feed from upcoming television broadcasts discovered by
Tvheadend.

This isn't meant to be a general-use tool, since the results are filtered in
specific ways (although these are somewhat configurable), and it's somewhat
specific to UK DVB-T broadcasts.  It could be taken as a sample program for
[pyepgdb](http://ikn.org.uk/pyepgdb) usage.

# License

Distributed under the terms of the
[BSD 3-Clause license](https://opensource.org/licenses/BSD-3-Clause).

# Installation

Build dependencies:
- [Setuptools](https://setuptools.readthedocs.io/en/latest/)
- [Bash](https://www.gnu.org/software/bash/)

Run `make`, `make install`.  The usual `DESTDIR`, etc. arguments to `make` are
supported.

# Dependencies

- [pyepgdb](http://ikn.org.uk/pyepgdb)

# Usage

`tvfeed update-datasets`

Download some general program information and store it locally.  Used by
`filter-epg`.

`tvfeed filter-epg`

Read a Tvheadend epgdb file from stdin and write an RSS feed to stdout.

# Configuration

A configuration file can be created at `tvfeed/config.json` within the usual
XDG-defined config directory.  The contents are a JSON object with the following
properties:

- `min_film_year`: filter films to those released no earlier than this year
  (default: `1990`)
- `min_imdb_rating`: filter programmes to those with an IMDb rating no less than
  this (default: `5`)
- `allowed_series_genres`: filter programmes which are series episodes to those
  with one of these genres, each a string from `pyepgdb.dvbtuk.Genre` (default:
  `UNKNOWN`, `FILM`)
- `matches_store_path`: file path used to store some information on programmes,
  in order to skip already-seen programmes (default: `tvfeed/matches.db` in the
  usual XDG data directory)
- `feed_link`: the RSS feed's main URL (default:
  `http://localhost:9981/extjs.html`)
- `feeds_store_path`: file path used to store feed information generated by the
  `update-datasets` command (default: `tvfeed/feed.xml` in the usual XDG cache
   directory)
- `datasets_store_path`: directory path used to store program information
  generated by the `update-datasets` command (default: `tvfeed/datasets` in the
  usual XDG cache directory)
